import React, { useState, useEffect } from 'react';
import { Menu, Phone, MapPin, Edit2, Save, Plus, Trash2, X, ChevronLeft, ChevronRight, Lock } from 'lucide-react';

export default function StoreWebsite() {
  const [isAdmin, setIsAdmin] = useState(false);
  const [showPasswordModal, setShowPasswordModal] = useState(false);
  const [passwordInput, setPasswordInput] = useState('');
  const [scrolled, setScrolled] = useState(false);
  const [currentProductIndex, setCurrentProductIndex] = useState(0);
  const [currentArticleIndex, setCurrentArticleIndex] = useState(0);
  
  // –ü–∞—Ä–æ–ª—å –¥–ª—è –∞–¥–º—ñ–Ω–∫–∏
  const ADMIN_PASSWORD = 'admin123';
  
  // –ü–æ—á–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ
  const initialData = {
    logo: 'üè™',
    phones: ['+380 XX XXX XX XX', '+380 XX XXX XX XX'],
    address: '–º. –Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫, –≤—É–ª. –ü—Ä–∏–∫–ª–∞–¥–Ω–∞ 123',
    aboutTitle: '–ü—Ä–æ –Ω–∞—à –º–∞–≥–∞–∑–∏–Ω',
    aboutText: '–ú–∏ - –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–≤, —â–æ –ø—Ä–æ–ø–æ–Ω—É—î —è–∫—ñ—Å–Ω—ñ —Ç–æ–≤–∞—Ä–∏ –∑–∞ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ —Ü—ñ–Ω–∞–º–∏. –ù–∞—à –º–∞–≥–∞–∑–∏–Ω –ø—Ä–∞—Ü—é—î –¥–ª—è –≤–∞—Å –∫–æ–∂–Ω–æ–≥–æ –¥–Ω—è, —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –Ω–∞–π–∫—Ä–∞—â–∏–π —Å–µ—Ä–≤—ñ—Å —Ç–∞ —à–∏—Ä–æ–∫–∏–π –∞—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –ø—Ä–æ–¥—É–∫—Ü—ñ—ó.',
    products: [
      { id: 1, image: 'üì¶', name: '–¢–æ–≤–∞—Ä 1', description: '–û–ø–∏—Å –ø–µ—Ä—à–æ–≥–æ —Ç–æ–≤–∞—Ä—É', price: '999 –≥—Ä–Ω' },
      { id: 2, image: 'üì¶', name: '–¢–æ–≤–∞—Ä 2', description: '–û–ø–∏—Å –¥—Ä—É–≥–æ–≥–æ —Ç–æ–≤–∞—Ä—É', price: '1499 –≥—Ä–Ω' },
      { id: 3, image: 'üì¶', name: '–¢–æ–≤–∞—Ä 3', description: '–û–ø–∏—Å —Ç—Ä–µ—Ç—å–æ–≥–æ —Ç–æ–≤–∞—Ä—É', price: '799 –≥—Ä–Ω' }
    ],
    articles: [
      { id: 1, image: 'üì∞', title: '–ö–æ—Ä–∏—Å–Ω–∞ —Å—Ç–∞—Ç—Ç—è 1', content: '–¢—É—Ç –±—É–¥–µ –ø–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç –ø–µ—Ä—à–æ—ó —Å—Ç–∞—Ç—Ç—ñ –∑ –∫–æ—Ä–∏—Å–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é...' },
      { id: 2, image: 'üì∞', title: '–ö–æ—Ä–∏—Å–Ω–∞ —Å—Ç–∞—Ç—Ç—è 2', content: '–¢—É—Ç –±—É–¥–µ –ø–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç –¥—Ä—É–≥–æ—ó —Å—Ç–∞—Ç—Ç—ñ –∑ –∫–æ—Ä–∏—Å–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é...' }
    ],
    headerBg: '#2563eb',
    mainBg: '#f3f4f6'
  };

  const [data, setData] = useState(initialData);

  // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
  useEffect(() => {
    loadData();
  }, []);

  const loadData = async () => {
    try {
      const result = await window.storage.get('storeData');
      if (result && result.value) {
        setData(JSON.parse(result.value));
      }
    } catch (error) {
      console.log('–î–∞–Ω—ñ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –ø–æ—á–∞—Ç–∫–æ–≤—ñ');
    }
  };

  const saveData = async (newData) => {
    try {
      await window.storage.set('storeData', JSON.stringify(newData));
      setData(newData);
    } catch (error) {
      console.error('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:', error);
      alert('–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö');
    }
  };

  // –°–∫—Ä–æ–ª —Ö–µ–¥–µ—Ä–∞
  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const scrollToSection = (id) => {
    document.getElementById(id)?.scrollIntoView({ behavior: 'smooth' });
  };

  const openArticle = (article) => {
    const articleWindow = window.open('', '_blank');
    articleWindow.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>${article.title}</title>
          <meta charset="utf-8">
          <style>
            body { font-family: system-ui; max-width: 800px; margin: 50px auto; padding: 20px; line-height: 1.6; }
            h1 { color: #1f2937; }
            .image { font-size: 100px; text-align: center; margin: 30px 0; }
          </style>
        </head>
        <body>
          <div class="image">${article.image}</div>
          <h1>${article.title}</h1>
          <p>${article.content}</p>
        </body>
      </html>
    `);
  };

  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
  const handlePasswordSubmit = () => {
    if (passwordInput === ADMIN_PASSWORD) {
      setIsAdmin(true);
      setShowPasswordModal(false);
      setPasswordInput('');
    } else {
      alert('–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å!');
      setPasswordInput('');
    }
  };

  const handleKeyPress = (e) => {
    if (e.key === 'Enter') {
      handlePasswordSubmit();
    }
  };

  // –ê–¥–º—ñ–Ω —Ñ—É–Ω–∫—Ü—ñ—ó
  const addProduct = () => {
    const newProduct = {
      id: Date.now(),
      image: 'üì¶',
      name: '–ù–æ–≤–∏–π —Ç–æ–≤–∞—Ä',
      description: '–û–ø–∏—Å',
      price: '0 –≥—Ä–Ω'
    };
    saveData({ ...data, products: [...data.products, newProduct] });
  };

  const deleteProduct = (id) => {
    if (confirm('–í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π —Ç–æ–≤–∞—Ä?')) {
      saveData({ ...data, products: data.products.filter(p => p.id !== id) });
    }
  };

  const updateProduct = (id, field, value) => {
    saveData({
      ...data,
      products: data.products.map(p => p.id === id ? { ...p, [field]: value } : p)
    });
  };

  const addArticle = () => {
    const newArticle = {
      id: Date.now(),
      image: 'üì∞',
      title: '–ù–æ–≤–∞ —Å—Ç–∞—Ç—Ç—è',
      content: '–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—Ç—ñ...'
    };
    saveData({ ...data, articles: [...data.articles, newArticle] });
  };

  const deleteArticle = (id) => {
    if (confirm('–í–∏–¥–∞–ª–∏—Ç–∏ —Ü—é —Å—Ç–∞—Ç—Ç—é?')) {
      saveData({ ...data, articles: data.articles.filter(a => a.id !== id) });
    }
  };

  const updateArticle = (id, field, value) => {
    saveData({
      ...data,
      articles: data.articles.map(a => a.id === id ? { ...a, [field]: value } : a)
    });
  };

  // –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∑ –ø–∞—Ä–æ–ª–µ–º
  if (showPasswordModal) {
    return (
      <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div className="bg-white rounded-lg p-8 max-w-md w-full mx-4">
          <div className="flex items-center justify-center mb-6">
            <Lock size={48} className="text-blue-600" />
          </div>
          <h2 className="text-2xl font-bold text-center mb-4">–í—Ö—ñ–¥ –¥–æ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ</h2>
          <p className="text-gray-600 text-center mb-6">–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø—É</p>
          
          <input
            type="password"
            value={passwordInput}
            onChange={(e) => setPasswordInput(e.target.value)}
            onKeyPress={handleKeyPress}
            placeholder="–ü–∞—Ä–æ–ª—å"
            className="w-full p-3 border rounded-lg mb-4 text-lg"
            autoFocus
          />
          
          <div className="flex gap-3">
            <button
              onClick={() => {
                setShowPasswordModal(false);
                setPasswordInput('');
              }}
              className="flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"
            >
              –°–∫–∞—Å—É–≤–∞—Ç–∏
            </button>
            <button
              onClick={handlePasswordSubmit}
              className="flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
            >
              –£–≤—ñ–π—Ç–∏
            </button>
          </div>
          
          <p className="text-xs text-gray-500 text-center mt-4">
            –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –ø–∞—Ä–æ–ª—å: admin123
          </p>
        </div>
      </div>
    );
  }

  if (isAdmin) {
    return (
      <div className="min-h-screen bg-gray-100 p-6">
        <div className="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6">
          <div className="flex justify-between items-center mb-6">
            <h1 className="text-3xl font-bold">–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å</h1>
            <button
              onClick={() => setIsAdmin(false)}
              className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
            >
              –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å–∞–π—Ç
            </button>
          </div>

          <div className="mb-4 p-3 bg-green-50 border border-green-200 rounded-lg">
            <p className="text-green-800 text-sm">
              ‚úÖ –í—Å—ñ –∑–º—ñ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ç–∞ –ø–æ—Å—Ç—ñ–π–Ω–æ
            </p>
          </div>

          {/* –û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è */}
          <div className="mb-8 p-4 bg-gray-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">–û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
            
            <div className="mb-4">
              <label className="block mb-2 font-semibold">–õ–æ–≥–æ—Ç–∏–ø (–µ–º–æ–¥–∑—ñ –∞–±–æ —Ç–µ–∫—Å—Ç)</label>
              <input
                type="text"
                value={data.logo}
                onChange={(e) => saveData({ ...data, logo: e.target.value })}
                className="w-full p-2 border rounded"
              />
            </div>

            <div className="mb-4">
              <label className="block mb-2 font-semibold">–ê–¥—Ä–µ—Å–∞</label>
              <input
                type="text"
                value={data.address}
                onChange={(e) => saveData({ ...data, address: e.target.value })}
                className="w-full p-2 border rounded"
              />
            </div>

            <div className="mb-4">
              <label className="block mb-2 font-semibold">–¢–µ–ª–µ—Ñ–æ–Ω–∏ (—á–µ—Ä–µ–∑ –∫–æ–º—É)</label>
              <input
                type="text"
                value={data.phones.join(', ')}
                onChange={(e) => saveData({ ...data, phones: e.target.value.split(',').map(p => p.trim()) })}
                className="w-full p-2 border rounded"
              />
            </div>

            <div className="grid grid-cols-2 gap-4">
              <div>
                <label className="block mb-2 font-semibold">–ö–æ–ª—ñ—Ä —à–∞–ø–∫–∏</label>
                <input
                  type="color"
                  value={data.headerBg}
                  onChange={(e) => saveData({ ...data, headerBg: e.target.value })}
                  className="w-full h-10 border rounded"
                />
              </div>
              <div>
                <label className="block mb-2 font-semibold">–ö–æ–ª—ñ—Ä —Ñ–æ–Ω—É</label>
                <input
                  type="color"
                  value={data.mainBg}
                  onChange={(e) => saveData({ ...data, mainBg: e.target.value })}
                  className="w-full h-10 border rounded"
                />
              </div>
            </div>
          </div>

          {/* –ü—Ä–æ –Ω–∞—Å */}
          <div className="mb-8 p-4 bg-gray-50 rounded-lg">
            <h2 className="text-xl font-bold mb-4">–ü—Ä–æ –Ω–∞—Å</h2>
            <div className="mb-4">
              <label className="block mb-2 font-semibold">–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
              <input
                type="text"
                value={data.aboutTitle}
                onChange={(e) => saveData({ ...data, aboutTitle: e.target.value })}
                className="w-full p-2 border rounded"
              />
            </div>
            <div className="mb-4">
              <label className="block mb-2 font-semibold">–¢–µ–∫—Å—Ç</label>
              <textarea
                value={data.aboutText}
                onChange={(e) => saveData({ ...data, aboutText: e.target.value })}
                className="w-full p-2 border rounded h-32"
              />
            </div>
          </div>

          {/* –¢–æ–≤–∞—Ä–∏ */}
          <div className="mb-8 p-4 bg-gray-50 rounded-lg">
            <div className="flex justify-between items-center mb-4">
              <h2 className="text-xl font-bold">–¢–æ–≤–∞—Ä–∏ ({data.products.length})</h2>
              <button
                onClick={addProduct}
                className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2"
              >
                <Plus size={20} /> –î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä
              </button>
            </div>
            
            {data.products.map((product) => (
              <div key={product.id} className="mb-4 p-4 bg-white rounded-lg border">
                <div className="flex justify-between items-start mb-3">
                  <input
                    type="text"
                    value={product.image}
                    onChange={(e) => updateProduct(product.id, 'image', e.target.value)}
                    placeholder="–ï–º–æ–¥–∑—ñ/—ñ–∫–æ–Ω–∫–∞"
                    className="w-20 p-2 border rounded text-center text-2xl"
                  />
                  <button
                    onClick={() => deleteProduct(product.id)}
                    className="text-red-600 hover:text-red-800"
                  >
                    <Trash2 size={20} />
                  </button>
                </div>
                <input
                  type="text"
                  value={product.name}
                  onChange={(e) => updateProduct(product.id, 'name', e.target.value)}
                  placeholder="–ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É"
                  className="w-full p-2 border rounded mb-2"
                />
                <textarea
                  value={product.description}
                  onChange={(e) => updateProduct(product.id, 'description', e.target.value)}
                  placeholder="–û–ø–∏—Å —Ç–æ–≤–∞—Ä—É"
                  className="w-full p-2 border rounded mb-2 h-20"
                />
                <input
                  type="text"
                  value={product.price}
                  onChange={(e) => updateProduct(product.id, 'price', e.target.value)}
                  placeholder="–¶—ñ–Ω–∞"
                  className="w-full p-2 border rounded"
                />
              </div>
            ))}
          </div>

          {/* –°—Ç–∞—Ç—Ç—ñ */}
          <div className="mb-8 p-4 bg-gray-50 rounded-lg">
            <div className="flex justify-between items-center mb-4">
              <h2 className="text-xl font-bold">–°—Ç–∞—Ç—Ç—ñ ({data.articles.length})</h2>
              <button
                onClick={addArticle}
                className="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2"
              >
                <Plus size={20} /> –î–æ–¥–∞—Ç–∏ —Å—Ç–∞—Ç—Ç—é
              </button>
            </div>
            
            {data.articles.map((article) => (
              <div key={article.id} className="mb-4 p-4 bg-white rounded-lg border">
                <div className="flex justify-between items-start mb-3">
                  <input
                    type="text"
                    value={article.image}
                    onChange={(e) => updateArticle(article.id, 'image', e.target.value)}
                    placeholder="–ï–º–æ–¥–∑—ñ/—ñ–∫–æ–Ω–∫–∞"
                    className="w-20 p-2 border rounded text-center text-2xl"
                  />
                  <button
                    onClick={() => deleteArticle(article.id)}
                    className="text-red-600 hover:text-red-800"
                  >
                    <Trash2 size={20} />
                  </button>
                </div>
                <input
                  type="text"
                  value={article.title}
                  onChange={(e) => updateArticle(article.id, 'title', e.target.value)}
                  placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—Ç—ñ"
                  className="w-full p-2 border rounded mb-2"
                />
                <textarea
                  value={article.content}
                  onChange={(e) => updateArticle(article.id, 'content', e.target.value)}
                  placeholder="–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—Ç—ñ"
                  className="w-full p-2 border rounded h-32"
                />
              </div>
            ))}
          </div>
        </div>
      </div>
    );
  }

  return (
    <div style={{ backgroundColor: data.mainBg }} className="min-h-screen">
      {/* –®–∞–ø–∫–∞ */}
      <header
        style={{ backgroundColor: data.headerBg }}
        className={`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${
          scrolled ? 'py-2 shadow-lg' : 'py-4'
        }`}
      >
        <div className="container mx-auto px-4 flex items-center justify-between">
          <div className={`font-bold text-white transition-all ${scrolled ? 'text-2xl' : 'text-4xl'}`}>
            {data.logo}
          </div>
          
          <nav className="hidden md:flex gap-8">
            <button onClick={() => scrollToSection('about')} className="text-white hover:underline">
              –ü—Ä–æ –Ω–∞—Å
            </button>
            <button onClick={() => scrollToSection('products')} className="text-white hover:underline">
              –¢–æ–≤–∞—Ä–∏
            </button>
            <button onClick={() => scrollToSection('articles')} className="text-white hover:underline">
              –°—Ç–∞—Ç—Ç—ñ
            </button>
          </nav>

          <div className="text-white text-sm">
            <div className="flex items-center gap-2 mb-1">
              <Phone size={16} />
              {data.phones.map((phone, i) => (
                <a key={i} href={`tel:${phone}`} className="hover:underline">
                  {phone}
                </a>
              ))}
            </div>
            <div className="flex items-center gap-2">
              <MapPin size={16} />
              <span className="text-xs">{data.address}</span>
            </div>
          </div>
        </div>
      </header>

      {/* –ö–Ω–æ–ø–∫–∞ –∞–¥–º—ñ–Ω–∫–∏ */}
      <button
        onClick={() => setShowPasswordModal(true)}
        className="fixed bottom-4 right-4 z-50 p-3 bg-gray-800 text-white rounded-full shadow-lg hover:bg-gray-700"
        title="–í—ñ–¥–∫—Ä–∏—Ç–∏ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å"
      >
        <Edit2 size={24} />
      </button>

      <div className="pt-24">
        {/* –ü—Ä–æ –Ω–∞—Å */}
        <section id="about" className="container mx-auto px-4 py-16">
          <h2 className="text-4xl font-bold text-center mb-8">{data.aboutTitle}</h2>
          <p className="text-lg text-center max-w-3xl mx-auto text-gray-700 leading-relaxed">
            {data.aboutText}
          </p>
        </section>

        {/* –¢–æ–≤–∞—Ä–∏ */}
        <section id="products" className="py-16 bg-white bg-opacity-50">
          <div className="container mx-auto px-4">
            <h2 className="text-4xl font-bold text-center mb-12">–ù–∞—à—ñ —Ç–æ–≤–∞—Ä–∏</h2>
            
            <div className="relative max-w-4xl mx-auto">
              <div className="overflow-hidden">
                <div className="flex transition-transform duration-300" style={{ transform: `translateX(-${currentProductIndex * 100}%)` }}>
                  {data.products.map((product) => (
                    <div key={product.id} className="w-full flex-shrink-0 px-4">
                      <div className="bg-white rounded-lg shadow-lg p-8 text-center">
                        <div className="text-6xl mb-4">{product.image}</div>
                        <h3 className="text-2xl font-bold mb-3">{product.name}</h3>
                        <p className="text-gray-600 mb-4">{product.description}</p>
                        <p className="text-3xl font-bold text-blue-600">{product.price}</p>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
              
              {data.products.length > 1 && (
                <>
                  <button
                    onClick={() => setCurrentProductIndex(Math.max(0, currentProductIndex - 1))}
                    disabled={currentProductIndex === 0}
                    className="absolute left-0 top-1/2 -translate-y-1/2 bg-white rounded-full p-2 shadow-lg disabled:opacity-30"
                  >
                    <ChevronLeft size={32} />
                  </button>
                  <button
                    onClick={() => setCurrentProductIndex(Math.min(data.products.length - 1, currentProductIndex + 1))}
                    disabled={currentProductIndex === data.products.length - 1}
                    className="absolute right-0 top-1/2 -translate-y-1/2 bg-white rounded-full p-2 shadow-lg disabled:opacity-30"
                  >
                    <ChevronRight size={32} />
                  </button>
                </>
              )}
            </div>
          </div>
        </section>

        {/* –°—Ç–∞—Ç—Ç—ñ */}
        <section id="articles" className="py-16">
          <div className="container mx-auto px-4">
            <h2 className="text-4xl font-bold text-center mb-12">–ö–æ—Ä–∏—Å–Ω—ñ —Å—Ç–∞—Ç—Ç—ñ</h2>
            
            <div className="relative max-w-4xl mx-auto">
              <div className="overflow-hidden">
                <div className="flex transition-transform duration-300" style={{ transform: `translateX(-${currentArticleIndex * 100}%)` }}>
                  {data.articles.map((article) => (
                    <div key={article.id} className="w-full flex-shrink-0 px-4">
                      <div
                        onClick={() => openArticle(article)}
                        className="bg-white rounded-lg shadow-lg p-8 cursor-pointer hover:shadow-xl transition-shadow"
                      >
                        <div className="text-6xl mb-4 text-center">{article.image}</div>
                        <h3 className="text-2xl font-bold mb-3 text-center">{article.title}</h3>
                        <p className="text-gray-600 text-center line-clamp-3">{article.content}</p>
                        <p className="text-blue-600 text-center mt-4 font-semibold">–ß–∏—Ç–∞—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é ‚Üí</p>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
              
              {data.articles.length > 1 && (
                <>
                  <button
                    onClick={() => setCurrentArticleIndex(Math.max(0, currentArticleIndex - 1))}
                    disabled={currentArticleIndex === 0}
                    className="absolute left-0 top-1/2 -translate-y-1/2 bg-white rounded-full p-2 shadow-lg disabled:opacity-30"
                  >
                    <ChevronLeft size={32} />
                  </button>
                  <button
                    onClick={() => setCurrentArticleIndex(Math.min(data.articles.length - 1, currentArticleIndex + 1))}
                    disabled={currentArticleIndex === data.articles.length - 1}
                    className="absolute right-0 top-1/2 -translate-y-1/2 bg-white rounded-full p-2 shadow-lg disabled:opacity-30"
                  >
                    <ChevronRight size={32} />
                  </button>
                </>
              )}
            </div>
          </div>
        </section>

        {/* –§—É—Ç–µ—Ä */}
        <footer style={{ backgroundColor: data.headerBg }} className="py-8 text-white">
          <div className="container mx-auto px-4 text-center">
            <div className="text-4xl mb-4">{data.logo}</div>
            <div className="flex flex-col items-center gap-2 mb-4">
              <div className="flex items-center gap-2">
                <Phone size={18} />
                {data.phones.map((phone, i) => (
                  <a key={i} href={`tel:${phone}`} className="hover:underline">
                    {phone}
                  </a>
                ))}
              </div>
              <div className="flex items-center gap-2">
                <MapPin size={18} />
                <span>{data.address}</span>
              </div>
            </div>
            <p className="text-sm opacity-75">¬© 2024 –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ</p>
          </div>
        </footer>
      </div>
    </div>
  );
}
